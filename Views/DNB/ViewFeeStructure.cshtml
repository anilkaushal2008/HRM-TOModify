@model HRM.Models.DnbFeeStructurePageVM
@{
    ViewBag.Title = "View Fee Structure";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}

<div class="container mt-4">
    <div class="card shadow-lg rounded-3 border-0">
        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
            <h5 class="mb-0">
                <i class="bi bi-receipt-cutoff me-2"></i>
                Fee Structure Details
            </h5>
            <a href="@Url.Action("DNbEmpList", "DNB")" class="btn btn-light btn-sm">
                <i class="bi bi-arrow-left"></i> Back
            </a>
        </div>

        <div class="card-body bg-light">
            <div class="row mb-3">
                <div class="col-md-4">
                    <strong>Course/Name:</strong> @Model.StudentName
                </div>
                <div class="col-md-4">
                    <strong>Start Date:</strong> @Model.StartDate.ToString("dd-MMM-yyyy")
                </div>
                <div class="col-md-4">
                    <strong>End Date:</strong> @Model.EndDate.ToString("dd-MMM-yyyy")
                </div>
            </div>

            <div class="table-responsive">
                <table class="table table-hover align-middle bg-white shadow-sm rounded-3">
                    <thead class="table-success">
                        <tr>
                            <th>Year</th>
                            <th>Payable To</th>
                            <th>Amount (₹)</th>
                            <th>Due Date</th>
                            <th>Status</th>
                            <th>Assigned By</th>
                            <th>Assigned Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.FeeDetails)
                        {
                            <tr>
                                <td>@item.YearNumber</td>
                                <td>@item.PayableTo</td>
                                <td>@item.Amount.ToString("N2")</td>
                                <td>@item.DueDate.ToString("dd-MMM-yyyy")</td>
                                <td>
                                    @if (item.PaymentStatus == "Pending")
                                    {
                                        <span class="badge badge-pill bg-warning text-dark">Pending</span>
                                    }
                                    else if (item.PaymentStatus == "Paid")
                                    {
                                        <span class="badge badge-pill bg-success">Paid</span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-pill bg-secondary text-white">@item.PaymentStatus</span>
                                    }
                                </td>
                                <td>@item.ApprovedBy</td>
                                <td>@item.ApprovedDate.Value.ToString("dd/MM/yyyy")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<style>
    .table th {
        font-weight: 600;
    }

    .table-hover tbody tr:hover {
        background-color: #f6fff7;
        transition: all 0.3s ease-in-out;
    }

    .card {
        border-radius: 12px;
    }

    .card-header {
        border-radius: 12px 12px 0 0;
    }
</style>
