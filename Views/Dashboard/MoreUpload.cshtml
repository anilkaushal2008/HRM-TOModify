@model IEnumerable<HRM.Models.tblOtherDocumentMas>
@if (Session["descript"] != null)
{
    {
        ViewBag.Title = "MoreUpload";
        Layout = "~/Views/Shared/_LayoutMain.cshtml";
    }

    <div class="card">
        <div class="card-body" style="background-color:aliceblue">
            <br />
            <h3 class="" style="color:black;font-weight:bold" align="center">Upload Other Document</h3>
            @if (Model != null)
            {
                <div class="card-body">
                    @if (TempData["Error"] != null)
                    {
                        <p align="center" class="alert alert-danger" id="empty">@TempData["Error"]</p>
                    }
                    @if (ViewBag.Error != null)
                    {
                        <p align="center" class="alert alert-danger" id="empty">@ViewBag.Error</p>
                    }
                    @if (TempData["Success"] != null)
                    {
                        <p align="center" class="alert alert-success" id="empty">@TempData["Success"]</p>
                    }
                    @if (ViewBag.Success != null)
                    {
                        <p align="center" class="alert alert-success" id="success">@ViewBag.Success</p>
                    }
                    <table class="table table-sm" style="font-size:90%">
                        <thead class="bg-success text-white col-12">
                            <tr style="color:black">
                                <th>
                                    Document Name
                                </th>
                                <th>
                                    Upload DateTime
                                </th>
                                <th>
                                    Action
                                </th>

                            </tr>
                        </thead>
                        <tbody class="border border-success">
                            @if (Model != null)
                            {
                                foreach (var item in Model)
                                {
                                    <tr style="color:black">
                                        <td>
                                            
                                                @Html.DisplayFor(model => item.vchDocName)
                                            
                                        </td>
                                        <td>
                                            @{if (item.dtTempUploaded != null)
                                                {
                                                    @Html.DisplayFor(model => item.dtTempUploaded)
                                                }
                                                else
                                                {
                                                    @Html.Label("Pending")
                                                }
                                            }
                                        </td>
                                        <td>
                                            @{if (item.vchCompareFileAdd != null)
                                                {
                                                    string isAdmin = string.Empty;
                                                    string ishradmin = string.Empty;
                                                    if (Session["MainAdmin"] != null)
                                                    {
                                                        isAdmin = Session["MainAdmin"].ToString();
                                                    }
                                                    if (Session["HrAdmin"] != null)
                                                    {
                                                        isAdmin = Session["HrAdmin"].ToString();
                                                    }
                                                    if (item.bitISMultipleRecords != true)
                                                    {
                                                       <a class="btn btn-success btn-sm" href="@Url.Content("~/Content/Uploads/OtherDocuments/" + @item.vchCompareFileAdd)" target="_blank">&nbsp;&nbsp;View&nbsp;&nbsp;</a>
                                                    }
                                                    if (isAdmin == "True" && item.bitISMultipleRecords!=true)
                                                    {
                                                        @Html.ActionLink("Delete", "DeleteOtherDoc", new { id = item.intid, empid = item.TempEmpID }, htmlAttributes: new { @class = "btn btn-danger btn-sm" })
                                                        @*<a href="@Url.Content("~/Content/Uploads/" + @item.intid)" style="color:red" target="_blank">Delete</a>*@
                                                    }
                                                    if (item.bitISMultipleRecords == true && item.bitIsSelected == true)
                                                    {
                                                     <a> </a>  @Html.ActionLink("ViewAll", "ViewMultiple", new { id = item.TempEmpID, docid = item.intid }, htmlAttributes: new { @style = "color:white", @class = "btn btn-primary btn-sm" })
                                                     <a> </a> @Html.ActionLink("UploadMore", "UploadOtherDoc", new { id = item.TempEmpID, docid = item.intid }, htmlAttributes: new { @style = "color:white", @class = "btn btn-primary btn-sm" })
                                                    }
                                                }
                                                else
                                                {
                                                    @Html.ActionLink("Upload", "UploadOtherDoc", new { id = item.TempEmpID, docid = item.intid }, htmlAttributes: new { @style = "color:white", @class = "btn btn-primary btn-sm" })
                                                }
                                            }
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <p class="alert alert-danger" id="empty" align="center">@TempData["Empty"]</p>
            }
        </div>
    </div>
}
else
{
    Html.RenderAction("_SessionError1", "Home");
}
@section scripts{
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate-vsdoc.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    <script type="text/javascript">

    </script>
}








